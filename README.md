# CodeMapFree

一个VSCode插件，用于可视化代码地图，帮助您组织和理解代码结构。

## 功能特性

- **代码块管理**：在工作区中选择代码片段，右键添加到CodeMapFree
- **可视化展示**：代码块以矩形框形式展示，支持拖动调整位置
- **代码块编辑**：双击代码块名称可以重命名
- **箭头连接**：使用箭头工具连接不同代码块的行，展示代码关系
- **只读代码显示**：代码块内容只读，支持复制，带有行号和语法高亮样式
- **数据持久化**：所有数据保存在工作区根目录的 `CodeMapFree.json` 文件中

## 使用方法

### 添加代码块

1. 在编辑器中选中一段代码
2. 右键点击，选择"添加到CodeMapFree"
3. 输入代码块名称
4. 代码块会自动添加到CodeMapFree页面

### 打开CodeMapFree

- 使用命令面板（Ctrl+Shift+P），输入"打开CodeMapFree"
- 或者在代码块添加后会自动打开

### 使用箭头工具

1. 点击工具栏中的箭头按钮（→）
2. 点击一个代码块中的某一行（左侧会出现连接点）
3. 拖动到另一个代码块的某一行
4. 释放鼠标完成连接

### 编辑代码块名称

- 双击代码块标题中的代码块名称部分即可编辑

### 编辑页面名称

- 点击工具栏右侧的页面名称即可编辑

## 数据格式

数据保存在工作区根目录的 `CodeMapFree.json` 文件中，格式如下：

```json
{
	"page_name": "CodeMapFree",
	"codeMap": {
		"代码块名称": {
			"path": "src/example.ts",
			"start_line": 10,
			"end_line": 20,
			"x": 100,
			"y": 100,
			"w": 400,
			"h": 300
		}
	},
	"arrows": [
		{
			"from": {
				"block": "代码块名称",
				"line": 15
			},
			"to": {
				"block": "另一个代码块",
				"line": 25
			}
		}
	]
}
```

## 开发

### 构建

```bash
npm install
npm run compile
```

### 调试

1. 在VSCode中打开此项目
2. 按 F5 启动调试
3. 在新窗口中测试插件

## 许可证

MIT
